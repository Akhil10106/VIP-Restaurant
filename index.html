<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIP Sweets & Restaurant | Yamunanagar</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body id="top">

    <div class="scroll-progress" id="scrollProgress"></div>

    <nav class="navbar navbar-expand-lg fixed-top glass-nav" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="#top">
                <span class="brand-vip">VIP</span> <span class="brand-rest d-none d-sm-inline">Sweets & Restaurant</span>
            </a>
            
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-sm btn-outline-custom d-lg-none rounded-circle" onclick="TableSystem.toggleCart()" style="width: 40px; height: 40px;">
                    <i class="fas fa-shopping-bag"></i>
                </button>
                
                <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav align-items-center text-center mt-3 mt-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#highlights">Specialties</a></li>
                    <li class="nav-item"><a class="nav-link" href="#menu">Menu</a></li>
                    <li class="nav-item"><a class="nav-link" href="#gallery">Gallery</a></li>
                    
                    <li class="nav-item ms-lg-2 d-flex align-items-center justify-content-center my-2 my-lg-0" id="auth-nav-container">
                        <button id="login-trigger-btn" class="btn btn-outline-custom btn-sm px-4" onclick="AuthSystem.openLogin()">
                            <i class="fas fa-user me-2"></i> Login
                        </button>

                        <div id="user-profile-trigger" class="profile-trigger d-none" onclick="AuthSystem.toggleProfile()">
                            <img id="nav-user-img" src="" alt="Profile">
                            <span class="online-badge"></span>
                        </div>
                    </li>

                    <li class="nav-item ms-lg-3 d-none d-lg-block">
                        <button class="btn btn-primary-custom" onclick="TableSystem.toggleCart()">Dine-In Cart</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="home" class="hero-section d-flex align-items-center position-relative overflow-hidden">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        
        <div class="container position-relative z-2">
            <div class="row align-items-center flex-column-reverse flex-lg-row">
                <div class="col-lg-6 hero-text text-center text-lg-start mt-4 mt-lg-0">
                    <span class="badge bg-soft-gold text-dark mb-3 px-3 py-2 rounded-pill">Yamunanagar's Finest</span>
                    <h1 class="display-3 fw-bold mb-3">Taste the Royal <br><span class="text-gradient">Tradition</span></h1>
                    <p class="lead text-muted mb-4 mx-auto mx-lg-0" style="max-width: 500px;">Premium Sweets, Artisanal Bakery & Fine North Indian Dining. Experience the sweetness of life.</p>
                    
                    <div class="d-flex gap-2 justify-content-center justify-content-lg-start flex-wrap">
                        <a href="#menu" class="btn btn-primary-custom btn-lg shadow-sm">View Menu</a>
                        
                        <button onclick="TableSystem.init()" class="btn btn-lg shadow-sm text-white d-flex align-items-center" style="background-color: #C62828; border: none; border-radius: 50px; padding: 0.75rem 1.5rem;">
                            <i class="fas fa-qrcode me-2"></i> Scan / Dine-In
                        </button>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="https://images.unsplash.com/photo-1585937421612-70a008356f36?auto=format&fit=crop&w=800&q=80" 
                         alt="VIP Special Thali" 
                         class="img-fluid hero-img floating-anim rounded-circle shadow-lg"
                         style="border: 4px solid white; max-width: 85%;">
                </div>
            </div>
        </div>
    </section>

    <section id="highlights" class="py-section">
        <div class="container">
            <div class="row g-3">
                <div class="col-6 col-md-3">
                    <div class="feature-card text-center p-3 p-md-4 h-100">
                        <div class="icon-box mb-2 mb-md-3"><i class="fas fa-cookie-bite"></i></div>
                        <h5 class="fs-6 fs-md-5">Premium Sweets</h5>
                        <p class="small text-muted d-none d-sm-block">Pure Desi Ghee Mithai</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="feature-card text-center p-3 p-md-4 h-100">
                        <div class="icon-box mb-2 mb-md-3"><i class="fas fa-birthday-cake"></i></div>
                        <h5 class="fs-6 fs-md-5">Bakery & Cakes</h5>
                        <p class="small text-muted d-none d-sm-block">Freshly Baked Daily</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="feature-card text-center p-3 p-md-4 h-100">
                        <div class="icon-box mb-2 mb-md-3"><i class="fas fa-utensils"></i></div>
                        <h5 class="fs-6 fs-md-5">Fine Dining</h5>
                        <p class="small text-muted d-none d-sm-block">North Indian & Chinese</p>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="feature-card text-center p-3 p-md-4 h-100">
                        <div class="icon-box mb-2 mb-md-3"><i class="fas fa-leaf"></i></div>
                        <h5 class="fs-6 fs-md-5">100% Veg</h5>
                        <p class="small text-muted d-none d-sm-block">Pure & Hygienic</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="menu" class="py-section bg-light-gradient">
        <div class="container">
            <div class="text-center mb-4 mb-md-5">
                <h6 class="text-uppercase text-gold spacing-2">Our Delicacies</h6>
                <h2 class="section-title">Explore Our Menu</h2>
            </div>

            <div class="menu-filters-wrapper">
                <div class="menu-filters d-flex justify-content-start justify-content-md-center gap-2 mb-4 pb-2">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="sweets">Sweets</button>
                    <button class="filter-btn" data-filter="north-indian">North Indian</button>
                    <button class="filter-btn" data-filter="bakery">Bakery</button>
                    <button class="filter-btn" data-filter="chinese">Chinese</button>
                </div>
            </div>

            <div class="row g-3 g-md-4 menu-container">
                <div class="col-6 col-lg-4 menu-item" data-category="sweets">
                    <div class="menu-card h-100 d-flex flex-column">
                        <div class="img-wrapper">
                            <img data-src="https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?auto=format&fit=crop&w=400&q=80" alt="Royal Kaju Katli" class="lazy-img">
                        </div>
                        <div class="card-body p-3 p-md-4 d-flex flex-column flex-grow-1">
                            <h5 class="mb-1 card-title-responsive">Royal Kaju Katli</h5>
                            <p class="text-muted small mb-2 d-none d-sm-block">Made with premium cashews.</p>
                            <div class="mt-auto d-flex justify-content-between align-items-center">
                                <span class="price">â‚¹800/kg</span>
                                <button class="btn btn-sm btn-outline-custom add-to-cart rounded-circle p-0" onclick="TableSystem.addToCart(101)" style="width:32px; height:32px;"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-6 col-lg-4 menu-item" data-category="north-indian">
                    <div class="menu-card h-100 d-flex flex-column">
                        <div class="img-wrapper">
                            <img data-src="https://images.unsplash.com/photo-1631452180519-c014fe946bc7?auto=format&fit=crop&w=400&q=80" alt="Paneer Butter Masala" class="lazy-img">
                        </div>
                        <div class="card-body p-3 p-md-4 d-flex flex-column flex-grow-1">
                            <h5 class="mb-1 card-title-responsive">Paneer Butter</h5>
                            <p class="text-muted small mb-2 d-none d-sm-block">Rich tomato gravy.</p>
                            <div class="mt-auto d-flex justify-content-between align-items-center">
                                <span class="price">â‚¹240</span>
                                <button class="btn btn-sm btn-outline-custom add-to-cart rounded-circle p-0" onclick="TableSystem.addToCart(202)" style="width:32px; height:32px;"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-6 col-lg-4 menu-item" data-category="bakery">
                    <div class="menu-card h-100 d-flex flex-column">
                        <div class="img-wrapper">
                            <img data-src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=400&q=80" alt="Chocolate Truffle Cake" class="lazy-img">
                        </div>
                        <div class="card-body p-3 p-md-4 d-flex flex-column flex-grow-1">
                            <h5 class="mb-1 card-title-responsive">Chocolate Truffle</h5>
                            <p class="text-muted small mb-2 d-none d-sm-block">Belgian chocolate.</p>
                            <div class="mt-auto d-flex justify-content-between align-items-center">
                                <span class="price">â‚¹550</span>
                                <button class="btn btn-sm btn-outline-custom add-to-cart rounded-circle p-0" onclick="TableSystem.addToCart(301)" style="width:32px; height:32px;"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-6 col-lg-4 menu-item" data-category="chinese">
                    <div class="menu-card h-100 d-flex flex-column">
                        <div class="img-wrapper">
                            <img data-src="https://images.unsplash.com/photo-1585032223465-60567717bed3?auto=format&fit=crop&w=400&q=80" alt="Veg Hakka Noodles" class="lazy-img">
                        </div>
                        <div class="card-body p-3 p-md-4 d-flex flex-column flex-grow-1">
                            <h5 class="mb-1 card-title-responsive">Hakka Noodles</h5>
                            <p class="text-muted small mb-2 d-none d-sm-block">Stir-fried noodles.</p>
                            <div class="mt-auto d-flex justify-content-between align-items-center">
                                <span class="price">â‚¹180</span>
                                <button class="btn btn-sm btn-outline-custom add-to-cart rounded-circle p-0" onclick="TableSystem.addToCart(401)" style="width:32px; height:32px;"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-section bg-white text-center mood-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h3 class="mb-3">Can't Decide?</h3>
                    <p class="text-muted mb-4">Let our AI-inspired chef pick for you!</p>
                    <div id="mood-result" class="mood-result-box mb-4 mx-auto" style="max-width: 400px;">
                        <span class="emoji">ðŸ¤”</span>
                        <h4 class="dish-name mt-2">Tap below...</h4>
                    </div>
                    <button class="btn btn-primary-custom btn-lg w-100" style="max-width: 300px;" onclick="suggestMood()">Suggest a Dish</button>
                </div>
            </div>
        </div>
    </section>

    <section id="gallery" class="py-section">
        <div class="container">
            <div class="text-center mb-5">
                <h6 class="text-uppercase text-gold">Ambience & Food</h6>
                <h2 class="section-title">Gallery</h2>
            </div>
            <div class="gallery-grid">
                <div class="gallery-item"><img data-src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=600&q=80" class="lazy-img" alt="Luxury Interior"></div>
                <div class="gallery-item"><img data-src="https://images.unsplash.com/photo-1551024709-8f23befc6f87?auto=format&fit=crop&w=600&q=80" class="lazy-img" alt="Sweets Counter"></div>
                <div class="gallery-item"><img data-src="https://images.unsplash.com/photo-1530103862676-de3c9a59af57?auto=format&fit=crop&w=600&q=80" class="lazy-img" alt="Birthday Party"></div>
                <div class="gallery-item"><img data-src="https://images.unsplash.com/photo-1606471191009-63994c53433b?auto=format&fit=crop&w=600&q=80" class="lazy-img" alt="VIP Special Platter"></div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-section bg-dark text-white footer-extension">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-5">
                    <h3 class="mb-4">Visit Us</h3>
                    <p class="d-flex align-items-start"><i class="fas fa-map-marker-alt text-gold me-3 mt-1"></i> <span>Shop No. 32, Block B, Workshop Road, Thapar Colony,<br>Near Fountain Chowk, Yamunanagar</span></p>
                    <p class="d-flex align-items-center"><i class="fas fa-phone text-gold me-3"></i> +91 095184 54250</p>
                    
                    <div class="mt-4">
                        <div class="map-container shadow-lg">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3448.269389279766!2d77.28905331507926!3d30.134766981849136!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390ef99b8b1a7d65%3A0x6b86b20759020306!2sYamuna%20Nagar%2C%20Haryana!5e0!3m2!1sen!2sin!4v1620000000000!5m2!1sen!2sin" 
                                width="100%" 
                                height="100%" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                title="VIP Sweets Location">
                            </iframe>
                            
                            <div class="map-overlay-card">
                                <div class="d-flex align-items-center">
                                    <div class="icon-circle bg-danger text-white me-3">
                                        <i class="fas fa-location-arrow"></i>
                                    </div>
                                    <div>
                                        <h6 class="fw-bold mb-0 text-dark">VIP Sweets</h6>
                                        <p class="small text-muted mb-0">Workshop Rd, YNR</p>
                                    </div>
                                </div>
                                <div class="d-flex gap-2 mt-2">
                                    <a href="https://maps.google.com" target="_blank" class="btn btn-sm btn-outline-danger w-100 rounded-pill">
                                        <i class="fas fa-directions me-1"></i> Directions
                                    </a>
                                    <a href="tel:+9109518454250" class="btn btn-sm btn-danger w-100 rounded-pill text-white">
                                        <i class="fas fa-phone me-1"></i> Call
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6 offset-lg-1">
                    <h3 class="mb-4">Get in Touch</h3>
                    <form id="contactForm" onsubmit="handleForm(event)">
                        <div class="row g-3">
                            <div class="col-12"><input type="text" class="form-control modern-input" placeholder="Your Name" required></div>
                            <div class="col-12"><input type="tel" class="form-control modern-input" placeholder="Phone Number" required></div>
                            <div class="col-12"><textarea class="form-control modern-input" rows="3" placeholder="Message"></textarea></div>
                            <div class="col-12"><button type="submit" class="btn btn-primary-custom w-100">Send Message</button></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-4 bg-black text-white-50 text-center">
        <div class="container">
            <div class="mb-3">
                <a href="#" class="text-white mx-3 fs-5"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="text-white mx-3 fs-5"><i class="fab fa-instagram"></i></a>
                <a href="#" class="text-white mx-3 fs-5"><i class="fab fa-whatsapp"></i></a>
            </div>
            <p class="small mb-0">Â© 2024 VIP Sweets & Restaurant. All Rights Reserved.</p>
        </div>
    </footer>

    <div class="fab-container">
        <a href="https://wa.me/919518454250" class="fab-btn whatsapp-fab"><i class="fab fa-whatsapp"></i></a>
        <button onclick="TableSystem.toggleCart()" class="fab-btn cart-fab d-none d-lg-flex"><i class="fas fa-shopping-bag"></i></button>
    </div>

    <div id="auth-modal-backdrop" class="auth-backdrop">
        <div class="auth-modal-card">
            <button class="btn-close position-absolute top-0 end-0 m-3" onclick="AuthSystem.closeLogin()"></button>
            <div class="text-center mb-4">
                <span class="brand-vip fs-3">VIP</span> <span class="brand-rest small">Sweets</span>
                <h4 class="fw-bold mt-3">Welcome Back!</h4>
                <p class="text-muted small">Sign in to sync your orders.</p>
            </div>
            <button class="btn btn-google-login w-100 mb-3" onclick="AuthSystem.login('google')">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="G" width="20">
                <span>Continue with Google</span>
            </button>
            <button class="btn btn-light w-100 text-muted" onclick="AuthSystem.login('guest')">Continue as Guest</button>
        </div>
    </div>

    <div id="profile-sidebar" class="profile-panel">
        <div class="profile-header">
            <div class="d-flex align-items-center justify-content-between">
                <h5 class="mb-0 fw-bold text-white" id="greeting-text">Hello!</h5>
                <button class="btn-close btn-close-white" onclick="AuthSystem.toggleProfile()"></button>
            </div>
            <div class="d-flex align-items-center mt-3">
                <img id="sidebar-user-img" src="" alt="User" class="profile-large-img">
                <div class="ms-3 text-white">
                    <h6 class="mb-0 fw-bold" id="sidebar-user-name">Guest</h6>
                    <small class="opacity-75" id="sidebar-user-email">guest@vipsweets.com</small>
                </div>
            </div>
        </div>
        <div class="profile-body">
            <div class="d-flex justify-content-around mb-4 text-center">
                <div class="stat-box"><h5 class="fw-bold text-danger mb-0" id="total-orders-count">0</h5><small class="text-muted">Orders</small></div>
                <div class="stat-box"><h5 class="fw-bold text-gold mb-0" id="fav-items-count">0</h5><small class="text-muted">Favorites</small></div>
            </div>
            <ul class="nav nav-pills nav-fill mb-3 custom-pills" id="profileTabs">
                <li class="nav-item"><button class="nav-link active" onclick="AuthSystem.switchTab('orders')">Orders</button></li>
                <li class="nav-item"><button class="nav-link" onclick="AuthSystem.switchTab('favorites')">Favorites</button></li>
            </ul>
            <div id="tab-orders" class="tab-content active"><div id="order-history-list"></div></div>
            <div id="tab-favorites" class="tab-content d-none"><div class="text-center mt-4 text-muted"><i class="far fa-heart fa-2x mb-2"></i><p>No favorites yet</p></div></div>
        </div>
        <div class="profile-footer">
            <button class="btn btn-outline-danger w-100 rounded-pill" onclick="AuthSystem.logout()"><i class="fas fa-sign-out-alt me-2"></i> Logout</button>
        </div>
    </div>

    <div id="tos-table-modal" class="tos-modal-backdrop">
        <div class="tos-modal-card">
            <div class="text-center">
                <div class="tos-icon-circle mb-3"><i class="fas fa-chair"></i></div>
                <h3 class="fw-bold mb-2">VIP Dining</h3>
                <p class="text-muted small mb-4">Please enter your table number.</p>
                <input type="number" id="tos-table-input" class="form-control tos-input text-center mb-3" placeholder="e.g. 5">
                <button onclick="TableSystem.setTable()" class="btn tos-btn-primary w-100">Start Ordering</button>
            </div>
        </div>
    </div>

    <section id="tos-interface" class="d-none py-section bg-light">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <span class="badge bg-warning text-dark mb-1">Dine-In Mode</span>
                    <h2 class="fw-bold mb-0 fs-2">Table <span id="tos-display-table">--</span></h2>
                </div>
                <button onclick="TableSystem.requestBill()" class="btn btn-outline-dark rounded-pill btn-sm">
                    <i class="fas fa-receipt me-1"></i> <span class="d-none d-sm-inline">Request Bill</span>
                </button>
            </div>
            <div class="row g-2 g-md-3" id="tos-menu-grid"></div>
        </div>
    </section>

    <div id="tos-floating-cart" class="tos-fab-cart d-none" onclick="TableSystem.toggleCart()">
        <i class="fas fa-utensils"></i>
        <span class="tos-badge" id="tos-cart-count">0</span>
    </div>

    <div id="tos-cart-panel" class="tos-cart-sidebar">
        <div class="tos-cart-header">
            <h5 class="mb-0 fw-bold">Your Order</h5>
            <button class="btn-close" onclick="TableSystem.toggleCart()"></button>
        </div>
        <div class="tos-cart-body" id="tos-cart-items"></div>
        <div class="tos-cart-footer">
            <div class="d-flex justify-content-between mb-3 fw-bold"><span>Total</span><span class="text-danger" id="tos-cart-total">â‚¹0</span></div>
            <button onclick="TableSystem.checkout()" class="btn tos-btn-primary w-100 py-3 rounded-4 shadow">Confirm Order</button>
        </div>
    </div>

    <div id="tos-bill-modal" class="tos-modal-backdrop">
        <div class="tos-modal-card">
            <div class="text-center mb-3"><h4 class="fw-bold">Bill Summary</h4><p class="text-muted small">Table <span id="tos-bill-table"></span></p></div>
            <div class="tos-bill-list" id="tos-bill-items"></div>
            <div class="border-top pt-3 mt-3 d-flex justify-content-between fw-bold fs-5"><span>Total</span><span class="text-danger" id="tos-bill-total">â‚¹0</span></div>
            <button onclick="location.reload()" class="btn tos-btn-primary w-100 mt-4">Close Session</button>
        </div>
    </div>

    <div id="auth-toast" class="auth-toast"><div class="d-flex align-items-center"><i class="fas fa-check-circle text-success me-2"></i><span id="toast-message">Logged in!</span></div></div>
    
    <div id="lightbox" class="lightbox" onclick="closeLightbox()"><span class="close-lightbox">Ã—</span><img class="lightbox-content" id="lightbox-img"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
